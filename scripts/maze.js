/*! maze.js v0.0.1 | (c) sekaiamber | https://github.com/sekaiamber/maze.js */
define("config",{_VERSION_:"0.0.1"}),define("helper",{extend:function(){var e=arguments[0];for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},getRandom:function(e,t){return Math.random()*(t-e)+e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e)+e)}}),define("block",["./helper"],function(e){"use strict";var t=function(e,t,n){n=n||15,e=e||0,t=t||0,this.value=15,this.x=e,this.y=t};return t.prototype={value:15,x:0,y:0,getWall:function(){var e={top:!1,right:!1,bottom:!1,left:!1};return this.value&1&&(e.top=!0),(this.value&2)>>1&&(e.right=!0),(this.value&4)>>2&&(e.bottom=!0),(this.value&8)>>3&&(e.left=!0),e},removeWall:function(e){e.top&&(this.value&=14),e.right&&(this.value&=13),e.bottom&&(this.value&=11),e.left&&(this.value&=7)},addWall:function(e){e.top&&(this.value|=1),e.right&&(this.value|=2),e.bottom&&(this.value|=4),e.left&&(this.value|=8)},setWall:function(e){this.value=0,this.addWall(e)},near:function(e){var t=this.x-e.x,n=this.y-e.y;return t==0&&n==0?null:t>1||t<-1||n>1||n<-1?null:t!=1&&t!=-1||n==0?n!=1&&n!=-1||t==0?{dx:t,dy:n}:null:null},removeWallWith:function(e){var t=this.near(e);if(!t)return;t.dy==1?(this.removeWall({top:1}),e.removeWall({bottom:1})):t.dx==-1?(this.removeWall({right:1}),e.removeWall({left:1})):t.dy==-1?(this.removeWall({bottom:1}),e.removeWall({top:1})):(this.removeWall({left:1}),e.removeWall({right:1}))},addWallWith:function(e){var t=this.near(e);if(!t)return;t.dy==1?(this.addWall({top:1}),e.addWall({bottom:1})):t.dx==-1?(this.addWall({right:1}),e.addWall({left:1})):(t.dy=-1)?(this.addWall({bottom:1}),e.addWall({top:1})):(this.addWall({left:1}),e.addWall({right:1}))}},t}),define("builder/base",[],function(){"use strict";var e=function(){};return e.prototype={maze:null,stack:[],build:function(){},clear:function(){for(var e=0;e<this.maze.heigth;e++)for(var t=0;t<this.maze.width;t++){var n=this.maze.get(t,e);for(var r in n)r.startsWith("_mb_")&&n.hasOwnProperty(r)&&delete n[r]}}},e}),define("builder/deepfirst",["./base","../helper"],function(e,t){"use strict";var n=function(e){this.maze=e};return n.prototype=t.extend(new e,{build:function(){var e=this.maze.get(0,0);e._mb_built=!0,this.do(e),this.clear()},"do":function(e){var t=this.getUnbuiltNeighborBlock(e);if(t!=null)this.stack.push(e),e.removeWallWith(t),t._mb_built=!0,this.do(t);else if(this.stack.length>0){var n=this.stack.pop();this.do(n)}},getUnbuiltNeighborBlock:function(e){var n=this.maze.getNeighborsList(e),r=[];for(var i=0;i<n.length;i++)n[i]._mb_built||r.push(n[i]);return r.length==0?null:r[t.getRandomInt(0,r.length)]}}),n}),define("builder",["./builder/deepfirst"],function(e){"use strict";var t=e;return window.MazeBuilder=e,t}),define("maze",["./config","./block","./builder","./helper"],function(e,t,n,r){"use strict";var i=function(e,t){if(typeof e=="object")for(var n in e)e.hasOwerty(n)&&(this[n]=e[n]);else typeof e=="number"&&typeof t=="number"&&(this.width=e,this.heigth=t);this.builder=new window.MazeBuilder(this),this.init()};return i.prototype=r.extend([],{width:10,heigth:10,builder:null,init:function(){for(var e=0;e<this.heigth;e++){var n=[];for(var r=0;r<this.width;r++)n[r]=new t(r,e);this.push(n)}this.builder.build()},get:function(e,t){return this[t][e]},getNeighbors:function(e,t){if(typeof e=="object"){var n=e;e=n.x,t=n.y}var r={top:null,right:null,bottom:null,left:null};return e<0||e>=this.width||t<0||t>=this.heigth?r:(e>0&&(r.left=this.get(e-1,t)),e<this.width-1&&(r.right=this.get(e+1,t)),t>0&&(r.top=this.get(e,t-1)),t<this.heigth-1&&(r.bottom=this.get(e,t+1)),r)},getNeighborsList:function(e,t){var n=this.getNeighbors(e,t),r=[];for(var i in n)n.hasOwnProperty(i)&&n[i]!=null&&r.push(n[i]);return r},getNeighbor:function(e,t,n){if(typeof e=="object"){var r=e;e=r.x,t=r.y,n=t}if(e<0||e>=this.width||t<0||t>=this.heigth)return null;switch(n){case 0:case"top":if(t>0)return this.get(e,t-1);case 1:case"right":if(e<this.width-1)return this.get(e+1,t);case 2:case"bottom":if(t<this.heigth-1)return this.get(e,t+1);case 3:case"left":if(e>0)return this.get(e-1,t);default:}return null}},e),i}),define("main",["./maze","./helper"],function(e,t){"use strict";return window.Maze=e,window.MazeHelper=t,e});